create table books(
id int auto_increment,
name varchar(20),
price int check( price > 0 ),
primary key( id )
);

create table audit(
id int,
name varchar(20),
price int,
ts datetime default current_timestamp()
);

insert into books( name , price ) values
( 'DBMS' , 1000 ) , 
( 'SPOS' , 6000 ) , 
( 'CN' , 5000 )  ;


create trigger book_update
before update on books
for each row
insert into audit( id , name , price) values( old.id , old.name , old.price );

create trigger book_delete
before delete on books
for each row
insert into audit( id , name , price) values( old.id , old.name , old.price );

update books
set price = 100
where name = 'SPOS';

delete from books
where name = 'TOC';
